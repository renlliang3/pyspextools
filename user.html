
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pyspextools.model: Interfaces for SPEX models &#8212; pyspextools 0.3.2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="pyspextools.data: Data filtering and optimization functions" href="data.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data.html" title="pyspextools.data: Data filtering and optimization functions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyspextools 0.3.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pyspextools.model">
<span id="pyspextools-model-interfaces-for-spex-models"></span><h1>pyspextools.model: Interfaces for SPEX models<a class="headerlink" href="#module-pyspextools.model" title="Permalink to this headline">¶</a></h1>
<p>The pyspextools module can provide interfaces to SPEX models. Currently, there is only a
helper class for the SPEX ‘user’ and ‘musr’ models, which provides the opportunity for
users to import their own models into SPEX.</p>
<div class="section" id="spex-user-model-interface-module">
<span id="usermodel"></span><h2>SPEX user model interface module<a class="headerlink" href="#spex-user-model-interface-module" title="Permalink to this headline">¶</a></h2>
<p>This is a Python helper class for the development of user defined models in SPEX.
The ‘user’ and ‘musr’ components in SPEX can calculate an additive and multiplicative
model, respectively, based on a user program. See the SPEX manual for details:
<a class="reference external" href="http://var.sron.nl/SPEX-doc/">http://var.sron.nl/SPEX-doc/</a></p>
<p>The ‘user’ component can run an executable provided by the user. This module provides
the class that helps to exchange the relevant information between SPEX and the user
provided executable. Documentation for an example program is here: <a class="reference internal" href="tutorials/myusermodel.html#user-example"><span class="std std-ref">User model example</span></a>.</p>
<p><strong>SPEX output and executable input:</strong></p>
<p>The SPEX user component will provide an energy grid and a list of model parameters to
the executable through a text file, for example input-01-01.prm. Using this information,
the user provided program should calculate the spectrum on the provided grid using the
input parameters.</p>
<p><strong>Executable output and SPEX input:</strong></p>
<p>The spectrum (and the weights) can be written to the provided sener (and wener) arrays
in this module. The write_spc function will write the calculated spectrum to an output
file named, for example, output-01-01.spc. This file will be read again by the SPEX
user model and the resulting values will be used in the SPEX fit.</p>
<blockquote>
<div><dl class="class">
<dt id="pyspextools.model.User">
<em class="property">class </em><code class="sig-prename descclassname">pyspextools.model.</code><code class="sig-name descname">User</code><a class="reference internal" href="_modules/pyspextools/model/user.html#User"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.model.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Class structure to contain the input and output parameters of the user function.</p>
<dl class="attribute">
<dt id="pyspextools.model.User.fprm">
<code class="sig-name descname">fprm</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.fprm" title="Permalink to this definition">¶</a></dt>
<dd><p>Input file name</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.fspc">
<code class="sig-name descname">fspc</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.fspc" title="Permalink to this definition">¶</a></dt>
<dd><p>Output file name</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.npar">
<code class="sig-name descname">npar</code><em class="property"> = 0</em><a class="headerlink" href="#pyspextools.model.User.npar" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of input parameters from SPEX</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.par">
<code class="sig-name descname">par</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.par" title="Permalink to this definition">¶</a></dt>
<dd><p>Array containing the parameter values from SPEX (length npar)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.neg">
<code class="sig-name descname">neg</code><em class="property"> = 0</em><a class="headerlink" href="#pyspextools.model.User.neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of bins in the input energy grid from SPEX</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.egb">
<code class="sig-name descname">egb</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.egb" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper boundaries of the energy bins (length neg)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.eg">
<code class="sig-name descname">eg</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.eg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin centroids of the energy bins (length neg)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.deg">
<code class="sig-name descname">deg</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.deg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin widths of the energy bins (length deg)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.sener">
<code class="sig-name descname">sener</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.sener" title="Permalink to this definition">¶</a></dt>
<dd><p>Spectrum or transmission (e.g. in ph/s/bin)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.model.User.wener">
<code class="sig-name descname">wener</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.model.User.wener" title="Permalink to this definition">¶</a></dt>
<dd><p>If Delta E = average photon energy within the bin (keV) minus the bin centroid then wener = sener * Delta E</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.model.User.write_spc">
<code class="sig-name descname">write_spc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/model/user.html#User.write_spc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.model.User.write_spc" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the calculated spectrum to the output file for SPEX.
Make sure that the sener and wener arrays are initialized and 
filled with a spectrum before calling this function.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pyspextools.model: Interfaces for SPEX models</a><ul>
<li><a class="reference internal" href="#spex-user-model-interface-module">SPEX user model interface module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data.html"
                        title="previous chapter">pyspextools.data: Data filtering and optimization functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/user.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data.html" title="pyspextools.data: Data filtering and optimization functions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyspextools 0.3.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018-2019, SRON Netherlands Institute for Space Research.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>