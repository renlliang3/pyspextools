
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>The SPEX data format: pyspextools.io &#8212; pyspextools 0.3.4 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Importing OGIP spectra" href="ogip.html" />
    <link rel="prev" title="APEC interface for SPEX" href="tutorials/apec.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ogip.html" title="Importing OGIP spectra"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorials/apec.html" title="APEC interface for SPEX"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyspextools 0.3.4 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-spex-data-format-pyspextools-io">
<span id="iomodule"></span><h1>The SPEX data format: pyspextools.io<a class="headerlink" href="#the-spex-data-format-pyspextools-io" title="Permalink to this headline">¶</a></h1>
<p>This is a Python class to read, write and manipulate
SPEX spectrum and response file (.spo and .res). The
format of these FITS files is described in Chapter 5
of the SPEX manual: <a class="reference external" href="http://var.sron.nl/SPEX-doc/">http://var.sron.nl/SPEX-doc/</a></p>
<span class="target" id="module-pyspextools.io"></span><div class="section" id="reading-and-writing-datasets">
<h2>Reading and writing datasets<a class="headerlink" href="#reading-and-writing-datasets" title="Permalink to this headline">¶</a></h2>
<p>SPEX res and spo files can contain a set of spectra and responses from, for example,
different instruments used in the same observation or spectra from different spatial
regions. Each combination of a spectrum and response is called a region in SPEX
(see the region class below). The dataset class is basically a list of regions and
allows the user to add and remove regions from a dataset.</p>
<blockquote>
<div><dl class="class">
<dt id="pyspextools.io.Dataset">
<em class="property">class </em><code class="sig-prename descclassname">pyspextools.io.</code><code class="sig-name descname">Dataset</code><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>The dataset class is the most general class containing a 
dataset with multiple regions. Using this class, users
can read, write and manipulate spectral datasets.</p>
<dl class="attribute">
<dt id="pyspextools.io.Dataset.regions">
<code class="sig-name descname">regions</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Dataset.regions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of regions</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Dataset.config">
<code class="sig-name descname">config</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Dataset.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Response configuration (combinations of sector and region values)</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.read_region">
<code class="sig-name descname">read_region</code><span class="sig-paren">(</span><em class="sig-param">isector</em>, <em class="sig-param">iregion</em>, <em class="sig-param">spofile</em>, <em class="sig-param">resfile</em>, <em class="sig-param">label=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.read_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.read_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Read one region with number iregion from the two SPEX files and add it to the dataset.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.read_all_regions">
<code class="sig-name descname">read_all_regions</code><span class="sig-paren">(</span><em class="sig-param">spofile</em>, <em class="sig-param">resfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.read_all_regions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.read_all_regions" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all the regions from a spo and res file and add them to the dataset.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.append_region">
<code class="sig-name descname">append_region</code><span class="sig-paren">(</span><em class="sig-param">region</em>, <em class="sig-param">isector</em>, <em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.append_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.append_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a region object to the dataset.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.write_region">
<code class="sig-name descname">write_region</code><span class="sig-paren">(</span><em class="sig-param">spofile</em>, <em class="sig-param">resfile</em>, <em class="sig-param">iregion</em>, <em class="sig-param">exp_rate=False</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">history=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.write_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.write_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Write one region to a spo and res file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.write_all_regions">
<code class="sig-name descname">write_all_regions</code><span class="sig-paren">(</span><em class="sig-param">spofile</em>, <em class="sig-param">resfile</em>, <em class="sig-param">exp_rate=False</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">history=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.write_all_regions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.write_all_regions" title="Permalink to this definition">¶</a></dt>
<dd><p>Write all regions in the data object to spo and res.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.assign_sector">
<code class="sig-name descname">assign_sector</code><span class="sig-paren">(</span><em class="sig-param">iregion</em>, <em class="sig-param">newsector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.assign_sector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.assign_sector" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a new sector number to a specific region.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.assign_region">
<code class="sig-name descname">assign_region</code><span class="sig-paren">(</span><em class="sig-param">iregion</em>, <em class="sig-param">newregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.assign_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.assign_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a new sector number to a specific region.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.assign_sector_region">
<code class="sig-name descname">assign_sector_region</code><span class="sig-paren">(</span><em class="sig-param">iregion</em>, <em class="sig-param">newsector</em>, <em class="sig-param">newregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.assign_sector_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.assign_sector_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a new sector and region number to a specific region.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Dataset.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/dataset.html#Dataset.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Dataset.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show a summary for the entire dataset</p>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
<div class="section" id="the-region-class">
<h2>The region class<a class="headerlink" href="#the-region-class" title="Permalink to this headline">¶</a></h2>
<p>A combination of a spectrum and its response matrix is called a region in SPEX. This
name originates from the idea that a dataset (see above) can contain spectra extracted
from multiple regions in a spatial image. The region class combines a spo and res
object into one region and provides tests to see if the spo and res files actually
belong to each other.</p>
<blockquote>
<div><dl class="class">
<dt id="pyspextools.io.Region">
<em class="property">class </em><code class="sig-prename descclassname">pyspextools.io.</code><code class="sig-name descname">Region</code><a class="reference internal" href="_modules/pyspextools/io/region.html#Region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region" title="Permalink to this definition">¶</a></dt>
<dd><p>A SPEX region is a spectrum/response combination for a
specific observation, instrument or region on the sky.
It combines the spectrum and response file in one object.</p>
<dl class="attribute">
<dt id="pyspextools.io.Region.spo">
<code class="sig-name descname">spo</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Region.spo" title="Permalink to this definition">¶</a></dt>
<dd><p>Spo object</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Region.res">
<code class="sig-name descname">res</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Region.res" title="Permalink to this definition">¶</a></dt>
<dd><p>Res object</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Region.label">
<code class="sig-name descname">label</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Region.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional region label (will not be written to file). For example: MOS1, annulus2, etc.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Region.change_label">
<code class="sig-name descname">change_label</code><span class="sig-paren">(</span><em class="sig-param">label</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/region.html#Region.change_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region.change_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a label to this region to easily identify it. For example: MOS1, annulus 2, etc.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Region.set_sector">
<code class="sig-name descname">set_sector</code><span class="sig-paren">(</span><em class="sig-param">sector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/region.html#Region.set_sector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region.set_sector" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the sector number for this region.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Region.set_region">
<code class="sig-name descname">set_region</code><span class="sig-paren">(</span><em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/region.html#Region.set_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region.set_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the region number for this region.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Region.increase_region">
<code class="sig-name descname">increase_region</code><span class="sig-paren">(</span><em class="sig-param">amount</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/region.html#Region.increase_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region.increase_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Increase the region numbers by an integer amount.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Region.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param">nregion=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/region.html#Region.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether spectrum and response are compatible
and whether the arrays really consist of one region (if nregion flag is set).</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Region.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><em class="sig-param">isector=1</em>, <em class="sig-param">iregion=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/region.html#Region.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Region.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show a summary of the region metadata.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
<div class="section" id="the-spo-class">
<h2>The spo class<a class="headerlink" href="#the-spo-class" title="Permalink to this headline">¶</a></h2>
<p>The SPEX .spo file contains the source and background spectra, including information
about systematic uncertainties and grouping. This class manages the reading and writing
of (regions) in spo files.</p>
<blockquote>
<div><dl class="class">
<dt id="pyspextools.io.Spo">
<em class="property">class </em><code class="sig-prename descclassname">pyspextools.io.</code><code class="sig-name descname">Spo</code><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo" title="Permalink to this definition">¶</a></dt>
<dd><p>The spo class contains the spectral information for one
spo file. This file can contain multiple spectra (regions). 
A call to spo() sets the variables that will contain 
the spectral information.</p>
<dl class="attribute">
<dt id="pyspextools.io.Spo.nregion">
<code class="sig-name descname">nregion</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.nregion" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of regions</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.nchan">
<code class="sig-name descname">nchan</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.nchan" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.echan1">
<code class="sig-name descname">echan1</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.echan1" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower energy bin value (keV)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.echan2">
<code class="sig-name descname">echan2</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.echan2" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper energy bin value (keV)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.tints">
<code class="sig-name descname">tints</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.tints" title="Permalink to this definition">¶</a></dt>
<dd><p>Exposure time (s)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.ochan">
<code class="sig-name descname">ochan</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.ochan" title="Permalink to this definition">¶</a></dt>
<dd><p>Source rate (c/s)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.dochan">
<code class="sig-name descname">dochan</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.dochan" title="Permalink to this definition">¶</a></dt>
<dd><p>Error Source rate (c/s)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.mbchan">
<code class="sig-name descname">mbchan</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.mbchan" title="Permalink to this definition">¶</a></dt>
<dd><p>Background rate (c/s)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.dbchan">
<code class="sig-name descname">dbchan</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.dbchan" title="Permalink to this definition">¶</a></dt>
<dd><p>Error Background rate (c/s)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.brat">
<code class="sig-name descname">brat</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.brat" title="Permalink to this definition">¶</a></dt>
<dd><p>Backscale ratio</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.ssys">
<code class="sig-name descname">ssys</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.ssys" title="Permalink to this definition">¶</a></dt>
<dd><p>Systematic error fraction in ochan</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.bsys">
<code class="sig-name descname">bsys</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.bsys" title="Permalink to this definition">¶</a></dt>
<dd><p>Systematic error fraction in bchan</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.used">
<code class="sig-name descname">used</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.used" title="Permalink to this definition">¶</a></dt>
<dd><p>true if data channel is used in the calculations</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.first">
<code class="sig-name descname">first</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.first" title="Permalink to this definition">¶</a></dt>
<dd><p>true if first channel of a binned group, or if it is an unbinned data channel; otherwise false</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.last">
<code class="sig-name descname">last</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.last" title="Permalink to this definition">¶</a></dt>
<dd><p>true if last channel of a binned group, or if it is an unbinned data channel; otherwise false</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Spo.brat_exist">
<code class="sig-name descname">brat_exist</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Spo.brat_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the Exp_rate column exist?</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.zero_spo">
<code class="sig-name descname">zero_spo</code><span class="sig-paren">(</span><em class="sig-param">nchan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.zero_spo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.zero_spo" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates empty arrays of size nchan.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.add_spo_region">
<code class="sig-name descname">add_spo_region</code><span class="sig-paren">(</span><em class="sig-param">origspo</em>, <em class="sig-param">iregion=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.add_spo_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.add_spo_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to add spectrum regions to a spo file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.del_spo_region">
<code class="sig-name descname">del_spo_region</code><span class="sig-paren">(</span><em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.del_spo_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.del_spo_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove spectrum from region with number ‘iregion’</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.read_file">
<code class="sig-name descname">read_file</code><span class="sig-paren">(</span><em class="sig-param">spofile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.read_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.read_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to read a spectrum from a .spo file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.return_region">
<code class="sig-name descname">return_region</code><span class="sig-paren">(</span><em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.return_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.return_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to return a spo object with containing the
spectrum of the region with number ‘iregion’.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.write_file">
<code class="sig-name descname">write_file</code><span class="sig-paren">(</span><em class="sig-param">sponame</em>, <em class="sig-param">exp_rate=False</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">history=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.write_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.write_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to write the spectrum to a .spo file with the name ‘sponame’.
The exp_rate flag determines whether the Exp_Rate column is added containing
the ratio between the backscales of the source and background spectra. This column
can only be read by SPEX &gt;=3.05.00.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.swap_order">
<code class="sig-name descname">swap_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.swap_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.swap_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Swap the channel order of the spectrum between wavelength or energy order. This is
for example helpful for grating spectra, which are originally stored in wavelength order
but must be flipped to energy order in SPEX format.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform several checks whether the information in the spectrum is consistent.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.check_filename">
<code class="sig-name descname">check_filename</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.check_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.check_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the output filename has the correct .spo extension. The method returns a correct file name.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.get_mask">
<code class="sig-name descname">get_mask</code><span class="sig-paren">(</span><em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.get_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.get_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mask to select spectral information for one region only.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Spo.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><em class="sig-param">iregion=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/spo.html#Spo.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Spo.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show some basic properties of the spectrum.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
<div class="section" id="the-res-class">
<h2>The res class<a class="headerlink" href="#the-res-class" title="Permalink to this headline">¶</a></h2>
<p>The SPEX .res file contains the response matrix and effective area information for a
spectrum. This class manages the reading and writing of (regions) in res files.</p>
<blockquote>
<div><dl class="class">
<dt id="pyspextools.io.Res">
<em class="property">class </em><code class="sig-prename descclassname">pyspextools.io.</code><code class="sig-name descname">Res</code><a class="reference internal" href="_modules/pyspextools/io/res.html#Res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res" title="Permalink to this definition">¶</a></dt>
<dd><p>The res class contains the response information for one
res file. This file can contain multiple responses (regions).</p>
<dl class="attribute">
<dt id="pyspextools.io.Res.nchan">
<code class="sig-name descname">nchan</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.nchan" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.neg">
<code class="sig-name descname">neg</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of energy bins</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.sector">
<code class="sig-name descname">sector</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.sector" title="Permalink to this definition">¶</a></dt>
<dd><p>Sectors</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.region">
<code class="sig-name descname">region</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.region" title="Permalink to this definition">¶</a></dt>
<dd><p>Regions</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.shcomp">
<code class="sig-name descname">shcomp</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.shcomp" title="Permalink to this definition">¶</a></dt>
<dd><p>Shared components (optional)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.nsector">
<code class="sig-name descname">nsector</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.nsector" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of sectors</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.nregion">
<code class="sig-name descname">nregion</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.nregion" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of regions</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.ncomp">
<code class="sig-name descname">ncomp</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.ncomp" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of response components</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.share_comp">
<code class="sig-name descname">share_comp</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.share_comp" title="Permalink to this definition">¶</a></dt>
<dd><p>Are there shared components (?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.area_scal">
<code class="sig-name descname">area_scal</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.area_scal" title="Permalink to this definition">¶</a></dt>
<dd><p>Is there areascal information (?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.resp_der">
<code class="sig-name descname">resp_der</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.resp_der" title="Permalink to this definition">¶</a></dt>
<dd><p>Are there response derivatives (?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.eg1">
<code class="sig-name descname">eg1</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.eg1" title="Permalink to this definition">¶</a></dt>
<dd><p>start energy for group (keV)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.eg2">
<code class="sig-name descname">eg2</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.eg2" title="Permalink to this definition">¶</a></dt>
<dd><p>end energy for group (keV)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.ic1">
<code class="sig-name descname">ic1</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.ic1" title="Permalink to this definition">¶</a></dt>
<dd><p>Start channel for response group</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.ic2">
<code class="sig-name descname">ic2</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.ic2" title="Permalink to this definition">¶</a></dt>
<dd><p>End channel for response group</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.nc">
<code class="sig-name descname">nc</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.nc" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of data channels in group</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.relarea">
<code class="sig-name descname">relarea</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.relarea" title="Permalink to this definition">¶</a></dt>
<dd><p>Area scaling factors</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.resp">
<code class="sig-name descname">resp</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.resp" title="Permalink to this definition">¶</a></dt>
<dd><p>response values for group (m**2)</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspextools.io.Res.dresp">
<code class="sig-name descname">dresp</code><em class="property"> = None</em><a class="headerlink" href="#pyspextools.io.Res.dresp" title="Permalink to this definition">¶</a></dt>
<dd><p>response derivatives for group (optional)</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.add_res_region">
<code class="sig-name descname">add_res_region</code><span class="sig-paren">(</span><em class="sig-param">origres</em>, <em class="sig-param">isector=1</em>, <em class="sig-param">iregion=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.add_res_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.add_res_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to add region(s) to a response.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.del_res_region">
<code class="sig-name descname">del_res_region</code><span class="sig-paren">(</span><em class="sig-param">isector</em>, <em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.del_res_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.del_res_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove region with number ‘iregion’.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.read_file">
<code class="sig-name descname">read_file</code><span class="sig-paren">(</span><em class="sig-param">resfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.read_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.read_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to read a response from a .res file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.return_region">
<code class="sig-name descname">return_region</code><span class="sig-paren">(</span><em class="sig-param">isector</em>, <em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.return_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.return_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a res object with the data from 1 selected region.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.write_file">
<code class="sig-name descname">write_file</code><span class="sig-paren">(</span><em class="sig-param">resfile</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">history=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.write_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.write_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the response information to a .res file with name ‘resfile’.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.swap_order">
<code class="sig-name descname">swap_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.swap_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.swap_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Swap the channel order of the response between wavelength or energy order. This is
for example helpful for grating spectra, which are originally stored in wavelength order
but must be flipped to energy order in SPEX format.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.append_component">
<code class="sig-name descname">append_component</code><span class="sig-paren">(</span><em class="sig-param">addres</em>, <em class="sig-param">iregion=1</em>, <em class="sig-param">isector=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.append_component"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.append_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a component to the response matrix from another matrix. This is used to add orders to the response
file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.get_mask">
<code class="sig-name descname">get_mask</code><span class="sig-paren">(</span><em class="sig-param">isector</em>, <em class="sig-param">iregion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.get_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.get_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create masks to select a particular region in a .res file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.channel_shift">
<code class="sig-name descname">channel_shift</code><span class="sig-paren">(</span><em class="sig-param">shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.channel_shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.channel_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the response array indices with an integer number provided by input parameter ‘shift’.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a number of checks to see if the response information is consistent.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.check_filename">
<code class="sig-name descname">check_filename</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.check_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.check_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the output filename has the correct .res extension. The method returns a correct file name.</p>
</dd></dl>

<dl class="method">
<dt id="pyspextools.io.Res.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><em class="sig-param">iregion=1</em>, <em class="sig-param">isector=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyspextools/io/res.html#Res.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyspextools.io.Res.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show some basic properties of the response file.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The SPEX data format: pyspextools.io</a><ul>
<li><a class="reference internal" href="#reading-and-writing-datasets">Reading and writing datasets</a></li>
<li><a class="reference internal" href="#the-region-class">The region class</a></li>
<li><a class="reference internal" href="#the-spo-class">The spo class</a></li>
<li><a class="reference internal" href="#the-res-class">The res class</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorials/apec.html"
                        title="previous chapter">APEC interface for SPEX</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ogip.html"
                        title="next chapter">Importing OGIP spectra</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/io.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ogip.html" title="Importing OGIP spectra"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorials/apec.html" title="APEC interface for SPEX"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyspextools 0.3.4 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018-2020, SRON Netherlands Institute for Space Research.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>