
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>TG2Spex - Transform Chandra grating spectra to SPEX format &#8212; pyspextools 0.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OGIPGenrsp - Generate new response matrix" href="ogipgenrsp.html" />
    <link rel="prev" title="OGIP2spex - Transform OGIP spectra to SPEX format" href="ogip2spex.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ogipgenrsp.html" title="OGIPGenrsp - Generate new response matrix"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ogip2spex.html" title="OGIP2spex - Transform OGIP spectra to SPEX format"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyspextools 0.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../tutorials.html" accesskey="U">Using the pyspextools module</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tg2spex-transform-chandra-grating-spectra-to-spex-format">
<span id="tg2spex"></span><h1>TG2Spex - Transform Chandra grating spectra to SPEX format<a class="headerlink" href="#tg2spex-transform-chandra-grating-spectra-to-spex-format" title="Permalink to this headline">¶</a></h1>
<p>Tg2spex is a script to convert spectra from Chandra grating observations to SPEX format. Tg2spex works
with input flags from the command line. The ‘-h’ flag shows the help of the tg2spex command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">linux</span><span class="p">:</span><span class="o">~&gt;</span> <span class="n">tg2spex</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<p>A full overview of the arguments is given below in the section <a class="reference internal" href="#tg2spex-commandline">Command-line arguments</a>.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Tg2spex detects the standard file names in a directory, so providing the path to the directory
should be enough. In addition, flags can be provided to, for example, overwrite existing spo and res
files:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>linux:~&gt; tg2spex --overwrite /data/user/tgcat/obs_11387_tgid_3191
==================================
 This is tg2spex version 0.2.1
==================================

Read source spectrum... OK
Detected grating: Chandra LEG.
Combining orders of the spectra... OK
Convert to spo and write spo file... OK
Reading response for order... -1  OK
Reading response for order... -2  OK
Reading response for order... -3  OK
Reading response for order... -4  OK
Reading response for order... -5  OK
Reading response for order... -6  OK
Reading response for order... -7  OK
Reading response for order... -8  OK
Reading response for order... 1  OK
Reading response for order... 2  OK
Reading response for order... 3  OK
Reading response for order... 4  OK
Reading response for order... 5  OK
Reading response for order... 6  OK
Reading response for order... 7  OK
Reading response for order... 8  OK
Reading effective area for order... -1  OK
Reading effective area for order... -2  OK
Reading effective area for order... -3  OK
Reading effective area for order... -4  OK
Reading effective area for order... -5  OK
Reading effective area for order... -6  OK
Reading effective area for order... -7  OK
Reading effective area for order... -8  OK
Reading effective area for order... 1  OK
Reading effective area for order... 2  OK
Reading effective area for order... 3  OK
Reading effective area for order... 4  OK
Reading effective area for order... 5  OK
Reading effective area for order... 6  OK
Reading effective area for order... 7  OK
Reading effective area for order... 8  OK
Write combined res file... OK
</pre></div>
</div>
<p>In this example, the directory contains a Chandra LETG spectrum with 16 orders. In the first step
the spectra from the pha2 file are combined and saved. After that, the responses and effective areas
are read in and combined into a single leg.spo and leg.res.</p>
</div>
<div class="section" id="command-line-arguments">
<span id="tg2spex-commandline"></span><h2>Command-line arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h2>
<p><p>See full documentation at: <a class="reference external" href="https://spex-xray.github.io/pyspextools">https://spex-xray.github.io/pyspextools</a></p>
</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">tg2spex</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="nb">input</span><span class="o">-</span><span class="n">prefix</span> <span class="n">INPUT_PREFIX</span><span class="p">]</span>
               <span class="p">[</span><span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="n">prefix</span> <span class="n">OUTPUT_PREFIX</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">bkgsubtract</span><span class="p">]</span>
               <span class="p">[</span><span class="o">--</span><span class="n">keep</span><span class="o">-</span><span class="n">badchannels</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">overwrite</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">exprate</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">color</span><span class="p">]</span>
               <span class="p">[</span><span class="o">--</span><span class="n">version</span><span class="p">]</span>
               <span class="n">path</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments">
<h3>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this headline">¶</a></h3>
<dl class="option-list">
<dt><kbd>path</kbd></dt>
<dd><p>Path to the observation directory where the pha2, arfs and rmfs are.</p>
</dd>
</dl>
</div>
<div class="section" id="Named Arguments">
<h3>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h3>
<dl class="option-list">
<dt><kbd>--input-prefix</kbd></dt>
<dd><p>Input filename prefix (example: ‘<a href="#id1"><span class="problematic" id="id2">hrcf04149_repro_</span></a>’).</p>
<p>Default: “”</p>
</dd>
<dt><kbd>--output-prefix</kbd></dt>
<dd><p>Output filename prefix (names the output to ‘prefix’leg.spo/res</p>
<p>Default: “”</p>
</dd>
<dt><kbd>--no-bkgsubtract</kbd></dt>
<dd><p>Substract the background spectrum.</p>
<p>Default: True</p>
</dd>
<dt><kbd>--keep-badchannels</kbd></dt>
<dd><p>Do not remove bad channels.</p>
<p>Default: True</p>
</dd>
<dt><kbd>--overwrite</kbd></dt>
<dd><p>Overwrite existing spo and res files with same name.</p>
<p>Default: True</p>
</dd>
<dt><kbd>--exprate</kbd></dt>
<dd><p>Write additional Exp_Rate column (SPEX &gt;=3.05.00).</p>
<p>Default: False</p>
</dd>
<dt><kbd>--no-color</kbd></dt>
<dd><p>Suppress color output.</p>
<p>Default: True</p>
</dd>
<dt><kbd>--version</kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TG2Spex - Transform Chandra grating spectra to SPEX format</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#command-line-arguments">Command-line arguments</a><ul>
<li><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ogip2spex.html"
                        title="previous chapter">OGIP2spex - Transform OGIP spectra to SPEX format</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ogipgenrsp.html"
                        title="next chapter">OGIPGenrsp - Generate new response matrix</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorials/tg2spex.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ogipgenrsp.html" title="OGIPGenrsp - Generate new response matrix"
             >next</a> |</li>
        <li class="right" >
          <a href="ogip2spex.html" title="OGIP2spex - Transform OGIP spectra to SPEX format"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyspextools 0.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../tutorials.html" >Using the pyspextools module</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018-2019, SRON Netherlands Institute for Space Research.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.1.
    </div>
  </body>
</html>